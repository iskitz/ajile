/**
 * Code Syntax Highlighter.
 * Version 1.5.1
 * Copyright (C) 2004-2007 Alex Gorbatchev.
 * http://www.dreamprojections.com/syntaxhighlighter/
 * 
 * This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General 
 * Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) 
 * any later version.
 *
 * This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied 
 * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more 
 * details.
 *
 * You should have received a copy of the GNU Lesser General Public License along with this library; if not, write to 
 * the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA 
 */
var dp={sh:{Toolbar:{},Utils:{},RegexLib:{},Brushes:{},Strings:{AboutDialog:"<html><head><title>About...</title></head><body class=\"dp-about\"><table cellspacing=\"0\"><tr><td class=\"copy\"><p class=\"title\">dp.SyntaxHighlighter</div><div class=\"para\">Version: {V}</p><p><a href=\"http://www.dreamprojections.com/syntaxhighlighter/?ref=about\" target=\"_blank\">http://www.dreamprojections.com/syntaxhighlighter</a></p>&copy;2004-2007 Alex Gorbatchev.</td></tr><tr><td class=\"footer\"><input type=\"button\" class=\"close\" value=\"OK\" onClick=\"window.close()\"/></td></tr></table></body></html>"},ClipboardSwf:null,Version:"1.5.1"}};dp.SyntaxHighlighter=dp.sh;dp.sh.Toolbar.Commands={ExpandSource:{label:"+ expand source",check:function(B){return B.collapse},func:function(D,C){D.parentNode.removeChild(D);C.div.className=C.div.className.replace("collapsed","")}},ViewSource:{label:"view plain",func:function(H,E){var F=dp.sh.Utils.FixForBlogger(E.originalCode).replace(/</g,"&lt;");var G=window.open("","_blank","width=750, height=400, location=0, resizable=1, menubar=0, scrollbars=0");G.document.write("<textarea style=\"width:99%;height:99%\">"+F+"</textarea>");G.document.close()}},CopyToClipboard:{label:"copy to clipboard",check:function(){return window.clipboardData!=null||dp.sh.ClipboardSwf!=null},func:function(H,E){var F=dp.sh.Utils.FixForBlogger(E.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");if(window.clipboardData){window.clipboardData.setData("text",F)}else{if(dp.sh.ClipboardSwf!=null){var G=E.flashCopier;if(G==null){G=document.createElement("div");E.flashCopier=G;E.div.appendChild(G)}G.innerHTML="<embed src=\""+dp.sh.ClipboardSwf+"\" FlashVars=\"clipboard="+encodeURIComponent(F)+"\" width=\"0\" height=\"0\" type=\"application/x-shockwave-flash\"></embed>"}}alert("The code is in your clipboard now")}},PrintSource:{label:"print",func:function(H,E){var G=document.createElement("IFRAME");var F=null;G.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;";document.body.appendChild(G);F=G.contentWindow.document;dp.sh.Utils.CopyStyles(F,window.document);F.write("<div class=\""+E.div.className.replace("collapsed","")+" printing\">"+E.div.innerHTML+"</div>");F.close();G.contentWindow.focus();G.contentWindow.print();alert("Printing...");document.body.removeChild(G)}},About:{label:"?",func:function(D){var F=window.open("","_blank","dialog,width=300,height=150,scrollbars=0");var E=F.document;dp.sh.Utils.CopyStyles(E,window.document);E.write(dp.sh.Strings.AboutDialog.replace("{V}",dp.sh.Version));E.close();F.focus()}}};dp.sh.Toolbar.Create=function(H){var F=document.createElement("DIV");F.className="tools";for(var E in dp.sh.Toolbar.Commands){var G=dp.sh.Toolbar.Commands[E];if(G.check!=null&&!G.check(H)){continue}F.innerHTML+="<a href=\"#\" onclick=\"dp.sh.Toolbar.Command('"+E+"',this);return false;\">"+G.label+"</a>"}return F};dp.sh.Toolbar.Command=function(D,F){var E=F;while(E!=null&&E.className.indexOf("dp-highlighter")==-1){E=E.parentNode}if(E!=null){dp.sh.Toolbar.Commands[D].func(F,E.highlighter)}};dp.sh.Utils.CopyStyles=function(E,F){var H=F.getElementsByTagName("link");for(var G=0;G<H.length;G++){if(H[G].rel.toLowerCase()=="stylesheet"){E.write("<link type=\"text/css\" rel=\"stylesheet\" href=\""+H[G].href+"\"></link>")}}};dp.sh.Utils.FixForBlogger=function(B){return(typeof (dp.sh.isBloggerMode)!="undefined"&&dp.sh.isBloggerMode==true)?B.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):B};dp.sh.RegexLib={MultiLineCComments:new RegExp("/\\*[\\s\\S]*?\\*/","gm"),SingleLineCComments:new RegExp("//.*$","gm"),SingleLinePerlComments:new RegExp("#.*$","gm"),DoubleQuotedString:new RegExp("\"(?:\\.|(\\\\\\\")|[^\\\"\"\\n])*\"","g"),SingleQuotedString:new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'","g")};dp.sh.Match=function(E,D,F){this.value=E;this.index=D;this.length=E.length;this.css=F};dp.sh.Highlighter=function(){this.noGutter=false;this.addControls=true;this.collapse=false;this.tabsToSpaces=true;this.wrapColumn=80;this.showColumns=true};dp.sh.Highlighter.SortCallback=function(D,C){if(D.index<C.index){return -1}else{if(D.index>C.index){return 1}else{if(D.length<C.length){return -1}else{if(D.length>C.length){return 1}}}}return 0};dp.sh.Highlighter.prototype.CreateElement=function(D){var C=document.createElement(D);C.highlighter=this;return C};dp.sh.Highlighter.prototype.GetMatches=function(F,G){var H=0;var E=null;while((E=F.exec(this.code))!=null){this.matches[this.matches.length]=new dp.sh.Match(E[0],E.index,G)}};dp.sh.Highlighter.prototype.AddBit=function(G,I){if(G==null||G.length==0){return }var H=this.CreateElement("SPAN");G=G.replace(/ /g,"&nbsp;");G=G.replace(/</g,"&lt;");G=G.replace(/\n/gm,"&nbsp;<br>");if(I!=null){if((/br/gi).test(G)){var F=G.split("&nbsp;<br>");for(var J=0;J<F.length;J++){H=this.CreateElement("SPAN");H.className=I;H.innerHTML=F[J];this.div.appendChild(H);if(J+1<F.length){this.div.appendChild(this.CreateElement("BR"))}}}else{H.className=I;H.innerHTML=G;this.div.appendChild(H)}}else{H.innerHTML=G;this.div.appendChild(H)}};dp.sh.Highlighter.prototype.IsInside=function(D){if(D==null||D.length==0){return false}for(var F=0;F<this.matches.length;F++){var E=this.matches[F];if(E==null){continue}if((D.index>E.index)&&(D.index<E.index+E.length)){return true}}return false};dp.sh.Highlighter.prototype.ProcessRegexList=function(){for(var B=0;B<this.regexList.length;B++){this.GetMatches(this.regexList[B].regex,this.regexList[B].css)}};dp.sh.Highlighter.prototype.ProcessSmartTabs=function(L){var P=L.split("\n");var I="";var K=4;var N="\t";function J(D,E,G){var F=D.substr(0,E);var A=D.substr(E+1,D.length);var C="";for(var B=0;B<G;B++){C+=" "}return F+C+A}function M(D,B){if(D.indexOf(N)==-1){return D}var A=0;while((A=D.indexOf(N))!=-1){var C=B-A%B;D=J(D,A,C)}return D}for(var O=0;O<P.length;O++){I+=M(P[O],K)+"\n"}return I};dp.sh.Highlighter.prototype.SwitchToList=function(){var R=this.div.innerHTML.replace(/<(br)\/?>/gi,"\n");var N=R.split("\n");if(this.addControls==true){this.bar.appendChild(dp.sh.Toolbar.Create(this))}if(this.showColumns){var M=this.CreateElement("div");var K=this.CreateElement("div");var L=10;var J=1;while(J<=150){if(J%L==0){M.innerHTML+=J;J+=(J+"").length}else{M.innerHTML+="&middot;";J++}}K.className="columns";K.appendChild(M);this.bar.appendChild(K)}for(var J=0,O=this.firstLine;J<N.length-1;J++,O++){var P=this.CreateElement("LI");var Q=this.CreateElement("SPAN");P.className=(J%2==0)?"alt":"";Q.innerHTML=N[J]+"&nbsp;";P.appendChild(Q);this.ol.appendChild(P)}this.div.innerHTML=""};dp.sh.Highlighter.prototype.Highlight=function(N){function L(A){return A.replace(/^\s*(.*?)[\s\n]*$/g,"$1")}function K(A){return A.replace(/\n*$/,"").replace(/^\n*/,"")}function P(E){var D=dp.sh.Utils.FixForBlogger(E).split("\n");var F=new Array();var A=new RegExp("^\\s*","g");var B=1000;for(var C=0;C<D.length&&B>0;C++){if(L(D[C]).length==0){continue}var G=A.exec(D[C]);if(G!=null&&G.length>0){B=Math.min(G[0].length,B)}}if(B>0){for(var C=0;C<D.length;C++){D[C]=D[C].substr(B)}}return D.join("\n")}function M(C,A,B){return C.substr(A,B-A)}var J=0;if(N==null){N=""}this.originalCode=N;this.code=K(P(N));this.div=this.CreateElement("DIV");this.bar=this.CreateElement("DIV");this.ol=this.CreateElement("OL");this.matches=new Array();this.div.className="dp-highlighter";this.div.highlighter=this;this.bar.className="bar";this.ol.start=this.firstLine;if(this.CssClass!=null){this.ol.className=this.CssClass}if(this.collapse){this.div.className+=" collapsed"}if(this.noGutter){this.div.className+=" nogutter"}if(this.tabsToSpaces==true){this.code=this.ProcessSmartTabs(this.code)}this.ProcessRegexList();if(this.matches.length==0){this.AddBit(this.code,null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol);return }this.matches=this.matches.sort(dp.sh.Highlighter.SortCallback);for(var O=0;O<this.matches.length;O++){if(this.IsInside(this.matches[O])){this.matches[O]=null}}for(var O=0;O<this.matches.length;O++){var I=this.matches[O];if(I==null||I.length==0){continue}this.AddBit(M(this.code,J,I.index),null);this.AddBit(I.value,I.css);J=I.index+I.length}this.AddBit(this.code.substr(J),null);this.SwitchToList();this.div.appendChild(this.bar);this.div.appendChild(this.ol)};dp.sh.Highlighter.prototype.GetKeywords=function(B){return"\\b"+B.replace(/ /g,"\\b|\\b")+"\\b"};dp.sh.BloggerMode=function(){dp.sh.isBloggerMode=true};dp.sh.HighlightAll=function(X,Z,b,f,p,t){function m(){var B=arguments;for(var A=0;A<B.length;A++){if(B[A]==null){continue}if(typeof (B[A])=="string"&&B[A]!=""){return B[A]+""}if(typeof (B[A])=="object"&&B[A].value!=""){return B[A].value+""}}return null}function d(A,B){for(var C=0;C<B.length;C++){if(B[C]==A){return true}}return false}function k(D,F,E){var B=new RegExp("^"+D+"\\[(\\w+)\\]$","gi");var A=null;for(var C=0;C<F.length;C++){if((A=B.exec(F[C]))!=null){return A[1]}}return E}function i(A,D,B){var E=document.getElementsByTagName(B);for(var C=0;C<E.length;C++){if(E[C].getAttribute("name")==D){A.push(E[C])}}}var o=[];var Y=null;var a={};var n="innerHTML";i(o,X,"pre");i(o,X,"textarea");if(o.length==0){return }for(var r in dp.sh.Brushes){var g=dp.sh.Brushes[r].Aliases;if(g==null){continue}for(var h=0;h<g.length;h++){a[g[h]]=r}}for(var h=0;h<o.length;h++){var s=o[h];var v=typeof (s.language)!="undefined"?s.language:undefined;var u=typeof (s.attributes["language"])!="undefined"?s.attributes["language"]:undefined;var q=m(s.attributes["class"],s.className,u,v);var j="";if(q==null){continue}q=q.split(":");j=q[0].toLowerCase();if(a[j]==null){continue}Y=new dp.sh.Brushes[a[j]]();s.style.display="none";Y.noGutter=(Z==null)?d("nogutter",q):!Z;Y.addControls=(b==null)?!d("nocontrols",q):b;Y.collapse=(f==null)?d("collapse",q):f;Y.showColumns=(t==null)?d("showcolumns",q):t;var e=document.getElementsByTagName("head")[0];if(Y.Style&&e){var c=document.createElement("style");c.setAttribute("type","text/css");if(c.styleSheet){c.styleSheet.cssText=Y.Style}else{var l=document.createTextNode(Y.Style);c.appendChild(l)}e.appendChild(c)}Y.firstLine=(p==null)?parseInt(k("firstline",q,1)):p;Y.Highlight(s[n]);Y.source=s;s.parentNode.insertBefore(Y.div,s)}}