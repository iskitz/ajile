/**----------------------------------------------------------------------------+
| Product:  Ajile [com.iskitz.ajile]
| @version  0.9.9.1
|+-----------------------------------------------------------------------------+
| @author   Michael A. I. Lee [ http://ajile.iskitz.com/ ]
|
| Created:  Tuesday,   November   4, 2003    [2003.11.04]
| Modified: Monday,    September 24, 2007    [2007.09.24 -  6:00:00 PM EDT]
|+-----------------------------------------------------------------------------+
|
| [Ajile] - Advanced JavaScript Importing & Loading Extension is a JavaScript
|           module that adds namespacing and importing capabilities to the
|           JavaScript Language.
|
|           Visit http://ajile.iskitz.com/ to start creating
|
|                  "Smart scripts that play nice!"
|
|           Copyright (c) 2003-2007 Michael A. I. Lee, iSkitz.com
|
|+-----------------------------------------------------------------------------+
|
| ***** BEGIN LICENSE BLOCK *****
| Version: MPL 1.1/GPL 2.0/LGPL 2.1
|
| The contents of this file are subject to the Mozilla Public License Version
| 1.1 (the "License"); you may not use this file except in compliance with
| the License. You may obtain a copy of the License at
| http://www.mozilla.org/MPL/
|
| Software distributed under the License is distributed on an "AS IS" basis,
| WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
| for the specific language governing rights and limitations under the
| License.
|
| The Original Code is Ajile.
|
| The Initial Developer of the Original Code is Michael A. I. Lee
|
| Portions created by the Initial Developer are Copyright (C) 2003-2007
| the Initial Developer. All Rights Reserved.
|
| Contributor(s): Michael A. I. Lee [ http://ajile.iskitz.com/ ]
|
| Alternatively, the contents of this file may be used under the terms of
| either the GNU General Public License Version 2 or later (the "GPL"), or
| the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
| in which case the provisions of the GPL or the LGPL are applicable instead
| of those above. If you wish to allow use of your version of this file only
| under the terms of either the GPL or the LGPL, and not to allow others to
| use your version of this file under the terms of the MPL, indicate your
| decision by deleting the provisions above and replace them with the notice
| and other provisions required by the GPL or the LGPL. If you do not delete
| the provisions above, a recipient may use your version of this file under
| the terms of any one of the MPL, the GPL or the LGPL.
|
| ***** END LICENSE BLOCK *****
*-----------------------------------------------------------------------------*/
new function(){var Ar,B,Z,X;var A2=true,Aa=false,e=false,b=true,AT=true,i=false,Q=false;var w="Ajile",Am="Powered by ",Ae="index",L=".js",D="<*>",At="com.iskitz.ajile",f=null,m=[w,"Import","ImportAs","Include","Load","Namespace","JSBasePath","JSImport","JSPackage","JSPackaging","JSPacked","JSPath","NamespaceException","Package","PackageException"];var An,AU,A3="__LOADED__",As,s="",AP;var H=["*","|",":","\"","<",">","?","[","{","(",")","}","]","\\","&","@","#","$","%","!",";","'","=","+","~",",","^","_"," ","`","-","/","."];var d=(/(cloakoff|cloak)/),M=(/(debugoff|debug)/),Aj=(/(legacyoff|legacy)/),k=(/(mvcoff|mvc)/),AK=(/(mvcshareoff|mvcshare)/),AN=(/(overrideoff|override)/),I=(/(refreshoff|refresh)/),K=(/(.*\/)[^\/]+/),AD=(/(.*)\.[^\.]+/),R=(/(\/\.\/)|(\/[^\/]*\/\.\.\/)/),n=(/:\/\x2f/);function Ab(A5){if(A()){return }Y((AP=A5));r();AU=new x(q(At));F=At;if(!Ar){((AU.fullName=At),(AU.path="../lib/"),(AU.shortName=w))}AJ(AP);AV.add(At,w);Ai.add(At,w);y(w,At,AP);Ax();v(At);j()}function Aw(A5){if(A5&&A5!=At){AB(A5);return }u.clear();l.clear();C.clear();c.clear();AV.clear();Ai.clear();AQ.clear();j(false);J(false);v();As=null;delete S;delete p;delete Av;delete W;delete AZ;delete AP;delete window[w];delete window.Import;delete window.ImportAs;delete window.Include;delete window.Load;delete window.Namespace;t(At)}function E(A7,A5){if(A7==F){return }var A6=u.get(F);if(!A6){u.add(F,(A6=new AO()))}A6.add(A7,A5)}function AY(A5,A8){j();if(!A8||!Ao(A8)){if(Ao(A5)){A8=A5;A5=null}else{return false}}else{if(A5&&!Az(A5)){return false}}if(A5==D&&this==window[w]){return false}if(!A5&&this!=window[w]){A5=D}var A7=A8;if(A5&&(Ai.has(A5)||AS(A5))){return window.setTimeout(function(){A7(A5)},62.25)}if(!A5){if(Ai.getSize()>0||AV.getSize()==0){for(var A9 in Ai.getAll()){window.setTimeout(function(){A7(A9)},62.25)}}}var A6=l.get((A5=(A5||"")));if(!A6){l.add(A5,(A6=new AO()))}A6.add(Math.random(),A7);return true}function AX(A5){if(A5==F){return }var A6=AQ.get(A5);if(!A6){AQ.add(A5,(A6=new AO()))}A6.add(F)}function v(A6,A7){if(A6&&!Az(A6)){return }A6=A6||"";var BA=AS(A6);if(BA){Y((Ao(BA)?BA:BA.constructor))}if(!B){return }var BD=Ak(A6);var A9=(BD&&BD.hasOption("cloak"));for(var A8,A5,BE,BC=Ah(),BB=BC.length;--BB>=0;){if(!BC[BB]){continue}if(((A8=BC[BB].title)&&A6&&(A8!=A6))){continue}A5=BC[BB].src;BE=(A5&&(A5.indexOf(At)>=0))||(A8&&(A8.indexOf(At)==0));if(BE||(!A5&&A8)||A9||A2){Af(BC[BB],A7)}}}function Af(A6,A5){if(Z){Af=function A7(BA,A9){if((A9=A9||BA.parentNode)){if(A9.removeChild){A9.removeChild(BA)}}}}else{if(B){Af=new Function("element","container","if(container){  try { container.removeChild(element); }catch(e){}  return;}try { document.getElementsByTagName(\"head\")[0].removeChild(element); }catch(e){try { document.body.removeChild(element);}catch(e){}}")}else{Af=function A8(){}}}if(A6){Af(A6,A5)}}function Y(A7){if(!A7||typeof A7.toString=="undefined"){return }var A5=(/(function\s*.*\s*\(.*\))/).exec(A7.toString())||[""],A6=A5.length>1?A5[1]:A5[0];if(typeof A7.prototype=="undefined"){return }A7.prototype.constructor.toString=function(A8){return(Aa&&!A2)?A6:A7.prototype.toString()}}function AI(A6,A5){return A6-A5}function O(A9){var A8,A6;if(!(Az(A9)&&AV.has(A9))){A6=AV.getAllArray()}else{if(AS(A9)){A6=[[A9,AV.get(A9)]]}}if(!A6){return }for(var A5,A7=A6.length;--A7>=0;){A9=A6[A7][0];if(!(AV.has(A9)&&(A8=AS(A9)))){continue}U((A5=A6[A7][1]),A9,arguments);if(A5=="*"){A5=null}y(A5,A9,A8);o(A9)}}function AA(A5){return w+".GetPathFor("+A5+") is not supported. Namespace paths are protected."}function A0(A5){this.name="DEPRECATED: "+At+".NamespaceException";this.message="DEPRECATED: Invalid _namespace name ["+A5+"]";this.toString=A6;function A6(){return"[ "+this.name+" ] :: "+this.message}}function T(A5){if(Az(A5)){AU.path=A5}}function t(A9){if(!A9){return }var A8={},A6=A9.split("."),A7=window[A6[0]];for(var A5=1;typeof A6[A5]!="undefined";A5++){if(typeof A7[A6[A5]]=="undefined"){break}A8[A6[A5-1]]=[A5,true];A7=A7[A6[A5]];for(var BA in A7){if("undefined"==typeof Object.prototype[BA]){if(BA!=A6[A5]){A8[A6[A5-1]][1]=false;break}}}}for(A7 in A8){if("undefined"==typeof Object.prototype[A7]){if(A8[A7][1]){AB(A6.slice(0,A8[A7][0]+1).join("."))}}}}function AB(A7){var A5;if(A7){if(!Az(A7)){if((A7=Ak(A7))){A7=A7.fullName;A5=A7.shortName}}if(!A5&&A7){A5=A7.substring(A7.lastIndexOf(".")+1)}A7=AD.exec(A7);A7=A7?A7[1]:null}var A6=AS(A7);if(A6&&A5){if(A5=="*"||typeof (A6[A5])!="undefined"){if(A5!="*"){if(A6[A5]==window[A5]){window[A5]=null}delete A6[A5]}else{for(var A8 in A6){if("undefined"==typeof Object.prototype[A8]){delete A6[A8]}}t(A7)}}}v(A7)}function AM(A9){var A5=A9;var BA=AV.getAllArray();for(var A7,A8=0,A6=BA.length;A8<A6;++A8){if(Ai.has((A7=BA[A8][0]))){continue}if("*"!=BA[A8][1]){A5=AD.exec(A7)}if(!(A5&&(A9==A5[1]))){continue}Ai.add((F=A7));return }F=Ae}function j(A6,A8){A8=typeof A8!="undefined"?A8:!(A6==false);var A5=(A6=A6||window||this).onload;function A7(A9){if(A9==true){return(A5||null)}AY(v);O();v();if(Ao(A5)&&A7.toString()!=A5.toString()){A5(A9)}return A5}if(Ao(A5)&&A7.toString()==A5.toString()){if(!A8){A6.onload=A5(true)}return }A6.onload=A7}function AF(A5){if(!A5){return window.document}if(typeof A5.write=="undefined"){if(typeof A5.document!="undefined"){A5=A5.document}else{if(typeof A5.parentNode!="undefined"){return AF(A5.parentNode)}else{return window.document}}}return A5}function A4(A5,BB){if(!BB){return null}var BA=BB.split(".");var A6;for(var A9=(A5==BB),A8=0,A7=BA.length;A8<A7;A8++){if(isNaN(BA[A8])){continue}BB=BA.slice(0,A8).join(".");A5=A9?BB:A5||BA.slice(A8-1,A8)[0];A6=BA.slice(A8).join(".");break}if(!A6){return null}return[A5,BB,A6]}function Ah(A6){if(!(A6=AF(A6))){return null}var A5=(typeof A6.scripts!="undefined"&&typeof A6.scripts.length!="undefined"&&A6.scripts.length>0)?A6.scripts:(typeof A6.getElementsByTagName!="undefined")?(A6.getElementsByTagName("script")||[]):[];return A5}function AC(A5){if(A5){if((!As||Z)&&!B){if((As&&X&&A5!=As.ownerDocument)||!As||!X&&Z){if(A5.lastChild&&A5.lastChild.firstChild){As=A5.lastChild.firstChild}}}else{if(!As&&B){As=An}}}return As}function V(A7){Ac(A7);if(!A7||!Az(A7)){return[]}var A6=L?A7.lastIndexOf(L):A7.lastIndexOf(".");if(A6<A7.length&&A6>=0){var A8=A7.slice(A6,A6+L.length);var A5=A7.substring(0,A6);if(A5&&isNaN(A5.charAt(0))){A5=""}}return[A5,A8]}function AS(A9,A5){if(!Az(A9)){return null}var A8=A5||window;A9=A9.split(".");for(var A7=0,A6=A9.length;A7<A6;A7++){if(typeof A8[A9[A7]]!="undefined"){A8=A8[A9[A7]]}else{return null}}return A8}function Ak(A7){if(!A7){return new x(AU)}var A5=Az(A7);for(var A6 in c){if("undefined"==typeof Object.prototype[A6]){if((A5&&A7==A6)||(!A5&&A7==AS(A6))){return c[A6]}}}return null}function q(BM,BC){BM=BM||At;if(BM==At&&AU&&AU.path){return AU}var BE=c[BM];if(BE){return BE}var BO=z(BM,BC);if((BE=g(BM,BO))){return(c[BM]=BE)}var A5=Ah();if(!(A5&&BO)){return null}var BL;for(var BD=false,BG,BI,BK=0,BJ=A5.length;BK<BJ;BK++){BG=unescape(A5[BK].src);if(BG&&BG.search(n)==-1){BG=unescape(window.location.href);if(BG.charAt(BG.length-1)!=f){if((BI=K.exec(BG))!=null){if(BI[1].length>BG.search(n)+3){BG=BI[1]}}}BG+=unescape(A5[BK].src)}if(typeof BG=="undefined"||BG==null){continue}while(R.test(BG)){BG=BG.replace(R,"/")}if(C.has(BG)){continue}C.add(BG);if(BD){continue}var A7;for(var A8 in BO){if(typeof Object.prototype[A8]!="undefined"){continue}A7=BO[A8];var BN,BP,BA=[];for(var BH=A7.length;--BH>=0;){BN=A7[BH];BP=BG.lastIndexOf(BN)+1;if(BP<=0||BP==BA[0]){continue}BA[BA.length]=BP;G("FOUND :: Path [ "+BG+" ]",arguments)}if(BA.length==0){continue}BA.sort(AI);BP=BA[BA.length-1];BC=(BP==(BG.lastIndexOf(BN)+1))?A8:null;BL=BG.substring(0,BP);BD=true;if(BM==At&&A5[BK].title!=At){A5[BK].title=At}var A6=BP+BN.length-2;var BF=V(BG.substring(A6+1));var BB=BF[1];var A9=BF[0];break}}if(!BL){return null}BE=new x(BL,BC,BM,null,A9,BB);c[BM]=BE;return BE}function g(BL,BM){var BD=Number.MAX_VALUE;var BF;var A6=[];var BG;var A9=0;BM=BM||z(BL);var BB=[];var BJ=C.getAll();BJ:for(var BH in BJ){if(typeof Object.prototype[BH]!="undefined"){continue}for(var A8 in BM){if(typeof Object.prototype[A8]!="undefined"){continue}BB[BB.length]=A8;for(var A7=BM[A8],BK=A7.length;--BK>=0;){if(0<(BG=BH.lastIndexOf(A7[BK]))){BF=BH.length-(BG+A7[BK].length);if(BF<BD){BD=BF;A9=A6.length}A6[A6.length]=BG+1;var A5=(BG+1)+A7[BK].length-2;var BI=V(BH.substring(A5+1));var BC=BI[1];var BA=BI[0];G("FOUND :: Cached Path [ "+BH+" ]",arguments);break BJ}if(BK==0){delete BB[--BB.length]}}}}if(!A6||A6.length==0){return null}BH=BH.substring(0,A6[A9]);var BE=new x(BH,BB[A9],BL,null,BA,BC);if(BE.path){c[BL]=BE}return BE}function z(A7,A9){var BA=(f||Au());var A5=typeof A9=="undefined"?H:[A9];var A8={};for(var A6=A5.length;--A6>=0;){A9=A5[A6];A8[A9]=[];A8[A9][2]=BA+A7.replace(/\x2e/g,A9);A8[A9][0]=A8[A9][2]+A9;A8[A9][1]=A8[A9][2]+BA;A8[A9][2]=A8[A9][2]+"."}return A8}function h(){return[(A2?"cloak":"cloakoff"),(Aa?"debug":"debugoff"),(e?"legacy":"legacyoff"),(b?"mvc":"mvcoff"),(AT?"mvcshare":"mvcshareoff"),(i?"override":"overrideoff"),(Q?"refresh":"refreshoff")].join(",")}function Au(A7){if(!A7&&f){return f}var A8=unescape(window.location.href);var A5=A8.lastIndexOf("\\")+1;var A6=A8.lastIndexOf("/")+1;f=(A5>A6?"\\":"/");return f}function Ad(A6,BC,A9,BB,A8,BA,A5){if(!AV.add(BC,A6)){return BA}E(BC,(A6=="*"?BC:A6));AX(BC);if(A6=="*"){((A6=A3),G("...\t:: Import (\""+BC+".*\")",arguments))}else{if(A6==BC){G("...\t:: Include (\""+A6+"\")",arguments)}else{G("...\t:: ImportAs (\""+A6+"\", \""+BC+"\")",arguments)}}A9=AH(A6,BC,A9,BB,A8);var A7=W(A9,AF((A5||window||this)),"ImportAs(\""+A6+"\", \""+BC+"\");",false,BC);if(A7){(new a(BC)).start()}return BA}function AH(A5,BC,A8,BB,A6){var BA=BC+(A5=="*"?".*":"");var A7=BA;var A9;do{if((BA=AD.exec(BA))){BA=BA[1]}else{break}if(BA==A7){break}A7=BA;A9=q(BA)}while(!A9);if(!Az(A8)){A8=(typeof A9!="undefined"&&A9!=null&&typeof A9.path!="undefined")?A9.path:(AU.path||"")}if(A8.lastIndexOf("/")!=(A8.length-1)){A8+="/"}if(e){if(BB==false){BB="/"}else{if(BB==true){BB="."}}}if(BB==null||typeof BB=="undefined"){BB=A9?typeof A9.notation=="undefined"?AU.notation:A9.notation:AU.notation}A8+=escape(BC.replace(/\x2e/g,BB));if(A6){A8+="."+A6}A8+=L;if(A9&&A9.hasOption("refresh")){A8=AG(A8)}return A8}function y(A6,BB,A9,A5){A5=A5||window||this;if(!A9){return A9}if((A6!=A3)&&Ap(A6,BB,A5)){AV.remove(BB);return A9}if(!Ag(BB,A6)){return null}var A7=[];var BA=AV.get(BB);var A8=A6==BB||BA==BB;if(A6&&A6!=A3&&(!BA||(BA!="*"&&BA!=A3))){if(A8){A7[0]="SUCCESS :: Include (\""+BB+"\")"}else{((A5[A6]=A9),(A7[0]="SUCCESS :: ImportAs (\""+A6+"\", \""+BB+"\")"))}AV.remove(BB);Ai.add(BB,A6)}else{if(BA=="*"){Ay(A6,BB,A9,A5,A8,A7)}else{if(BA!="*"&&(BA==A3||A6==A3)){A7[0]="SUCCESS :: "+(A8?"Include":"Import")+" (\""+BB+".*\")";AV.remove(BB);Ai.add(BB,"*")}}}if(A7.length>0){G(A7.join("\r\n"),arguments)}AE(BB);return A9}function Ay(A6,BB,A9,A5,A8,A7){A7[A7.length]=" ";if(!A8){var BA;for(var BC in A9){if(typeof Object.prototype[BC]!="undefined"){continue}BA=BB+"."+BC;if(c[BA]||Ap(BC,BA,A5)){continue}A5[BC]=A9[BC];A7[A7.length]="SUCCESS :: ImportAs (\""+BC+"\", \""+BA+"\")"}}AV.remove(BB);if(A6!=A3){AV.add(BB,A3)}}function Ap(A6,A8,A5){A5=A5||window||this;if(i||(A8==A6&&!AS(A6))||(typeof A5[A6]=="undefined")||(AS(A8)==A5[A6])){return false}var A7="\nWARNING: There is a naming conflict, "+A6+" already exists.\nConsider using the override load-time option, "+w+".EnableOverride(),\nor ImportAs with an alias; for example:\n\n\tImportAs (\""+A6+"1\", \""+A8+"\");";if(A6==A8){A7+="\n\nThe module is currently inaccessible.\n"}else{A7+="\n\nThe module can currently be accessed using its fully-qualified name:\n\n\t"+A8+".\n"}G(A7,arguments,Aa);return true}function S(A8,A6,A7,A5){return p(null,A8,A6,A7,A5)}function p(BG,A9,A5,BE,A6){j();if(!A9||A9=="*"){G("ERROR :: ImportAs (\""+BG+"\", \""+A9+"\")");return null}var BF,BD;if(!Az(BG)){BG=""}if((BF=A4(BG,A9))){A9=BF[1];BG=(BG!=A3)?BF[0]:A3;BD=BF[2]}else{if(!BG){BG=A9.substring(A9.lastIndexOf(".")+1)}}A6=A6||window||this;if(BG=="*"){A9=AD.exec(A9)[1]}else{if(typeof A6[BG]!="undefined"&&BG!=A9){for(var BH=m.length;--BH>=0;){if(BG!=m[BH]){continue}G("ERROR :: ImportAs (\""+BG+"\", \""+A9+"\")! "+BG+" is restricted.",arguments);return A6[BG]}}}var A7=A6;var BC="";for(var A8=A9.split("."),BB=0,BA=A8.length;BB<BA;BB++){if(typeof A7[A8[BB]]!="undefined"){A7=A7[A8[BB]];BC+=A8[BB]+"."}else{break}}if((BB>=BA&&BG!="*")){if(AV.has(A9)||!Ai.has(A9)){A7=y(BG,A9,A7,A6);o(A9)}return A7}if(AV.has(A9)){if(BG=="*"||BG==A3){BG=A9}E(A9,BG);AX(A9);return null}return Ad(BG,A9,A5,BE,BD,A7,A6)}function a(A9,A7,A5){var A8,BD,BB=0;function BA(BE){A5=A5||500;BE.start=A6;BE.stop=BC;A8=window.setInterval(BC,(A7=(A7||60000)));return BE}function A6(){if(BB>=A5){BC();return }if(AS(A9)){O()}else{BD=window.setTimeout(A6,0)}}function BC(){if(typeof BD!="undefined"){window.clearTimeout(BD)}if(typeof A8!="undefined"){window.clearInterval(A8)}}if(this.constructor!=a){if(!this.constructor||this.constructor.toString()!=a.toString()){return new a(A9,A7,A5)}}return BA(this)}function Av(A8,A6,A7,A5){if(A8){A8=A8.split(".*").join("")}return p(A8,A8,A6,A7,A5)}function Ao(A5){return((typeof A5!="undefined"&&A5!=null)&&(typeof A5=="function"||Function==A5.constructor))}function A(){if(typeof document=="undefined"){return false}var A5="undefined"!=typeof document.write&&"undefined"!=typeof document.writeln;Ar=A5&&"undefined"!=typeof document.createElement;B=Ar&&"undefined"!=typeof document.createTextNode&&"undefined"!=typeof document.getElementsByTagName&&"undefined"!=typeof (An=document.getElementsByTagName("head")[0]).appendChild&&"undefined"!=typeof An.removeChild;Z=B&&"undefined"!=typeof document.firstChild&&"undefined"!=typeof document.lastChild&&"undefined"!=typeof document.parentNode;X=Z&&"undefined"!=typeof document.ownerDocument;return !(A5||Ar||B||Z||X)}function Az(A5){return A5!=null&&typeof A5!="undefined"&&(typeof A5=="string"||A5.constructor==String)}function Ag(BB,A5){var A8=(BB==F);var A6=AV.has(BB);var A7=u.get(BB);function A9(){if(A8||Ag(F)||A6){return true}AV.add(BB,A5);(new a(BB)).start();return false}if(!A7||!(A7=A7.getAll())){return A9()}for(var BA in A7){if("undefined"==typeof Object.prototype[BA]){if(!AS(A7[BA])){return false}}}return A9()}function W(A7,A5,A9,BB,BA,A8,BC){j();if(!(A5=AF(A5))){G("ERROR :: Container not found. Unable to load:\n\n["+A7+"]",arguments);return false}if(A7){C.add(unescape(A7));if(Q){A7=AG(A7)}}if(!(A8||BC)){BC="JavaScript";A8="text/javascript"}if(typeof BB=="undefined"){BB=false}var A6;if(Ar){A6=A5.createElement("script")}if(!A6){if(A9){A9="window.setTimeout('"+A9+"',0);"}P(A7,A5,A9,BB,BA,A8,BC);return false}if(BB){A6.defer=BB}if(BC){A6.language=BC}if(BA){A6.title=BA}if(A8){A6.type=A8}if(A7){G("...\t:: Load [ "+A7+" ]",arguments);if(AL||!N){A6.src=A7}AC(A5).appendChild(A6);if(A1||N){A6.src=A7}G("DONE\t:: Load [ "+A7+" ]",arguments)}if(!A9){return true}if(A7){W(null,A5,A9,BB,BA,A8,BC);return true}if(typeof (A6.canHaveChildren)=="undefined"||A6.canHaveChildren){A6.appendChild(A5.createTextNode(A9))}else{if(!A6.canHaveChildren){A6.text=A9}}AC(A5).appendChild(A6);return false}function Ax(){if(!(b||AT)){return }if(AT){W(AU.path+Ae+L,null,null,null,Ae)}if(!b){return }var A6=unescape(window.location.pathname);var A5=A6.lastIndexOf(f);A6=A6.substring(++A5);A5=A6.lastIndexOf(".");A5=(A5==-1)?0:A5;if(""!=(A6=A6.substring(0,A5))){Ae=A6}W(Ae+L,null,null,null,Ae)}function Ac(A6){if(!A6||!Az(A6)){return }var A7=A6.lastIndexOf("?")+1;A6=A6.substring(A7).toLowerCase();if(A6.length==0){return }var A5;if((A5=d.exec(A6))){A2=A5[1]=="cloak"}if((A5=M.exec(A6))){Aa=A5[1]=="debug"}if((A5=Aj.exec(A6))){J(A5[1]=="legacy")}if((A5=k.exec(A6))){b=A5[1]=="mvc"}if((A5=AK.exec(A6))){AT=A5[1]=="mvcshare"}if((A5=AN.exec(A6))){i=A5[1]=="override"}if((A5=I.exec(A6))){Q=A5[1]=="refresh"}}function P(A5,A7,A8,A6,BD,BC,BB){if(!(A7=AF(A7))){return }var BA;if(A5){G("...\t:: LoadSimple [ "+A5+" ]",arguments);if(A8){BA=A8;A8=null}}var A9="<script"+(A6?" defer=\"defer\"":"")+(BB?(" language=\""+BB+"\""):"")+(BD?(" title=\""+BD+"\""):"")+(BC?(" type=\""+BC+"\""):"")+(A5?(" src=\""+A5+"\">"):">")+(A8?(A8+";"):"")+"</script>\n";A7.write(A9);if(A5){G("DONE\t:: LoadSimple [ "+A5+" ]",arguments)}if(!(A8=A8||BA)){return }if(A5){P(null,A7,A8,A6,BD,BC,BB)}}function G(A9,BA,A8){if(!Aa&&!A8){return }var A7=(/function\s*(.*)\s*\(/).exec(BA.callee)||[""],BB=A7.length>1?A7[1]:A7[0];if(typeof A9!="undefined"){var A6=s;var A5=new Date();s=[A5.getFullYear(),A5.getMonth()+1,A5.getDate()].join(".")+","+[A5.getHours(),A5.getMinutes(),A5.getSeconds(),A5.getMilliseconds()].join(":")+"\t:: "+F+" :: "+BB+"\r\n"+A9+"\r\n\r\n";if("undefined"!=typeof console&&Ao(console.info)){console.info(s)}if("undefined"!=typeof YAHOO&&Ao(YAHOO.log)){YAHOO.log(s)}if("undefined"!=typeof MochiKit&&Ao(MochiKit.log)){MochiKit.log(s)}s+=A6}if(A8){AW()}}function U(A5,A8,A7){var A6=(A5=="*"||A5==A3)?("Import   (\""+A8+".*\")"):(A5==A8)?("Include  (\""+A8+"\")"):("ImportAs (\""+A5+"\", \""+A8+"\")");G(("CHECKING :: "+A6+"..."),A7)}function AZ(A6,BD,BB,A5){j();A6=A6||"<default>";G("Namespace (\""+A6+"\")",arguments);var BC=A5||window||this;if(A6=="<default>"){AU.update(BD,BB);G(AU,arguments);return BC}AM(A6);var A7=A6.split(".");for(var BA=0,A9=A7.length;BA<A9;BA++){if(typeof BC[A7[BA]]!="undefined"){BC=BC[A7[BA]]}else{BC=BC[A7[BA]]={}}}var A8=c[A6];if(A8){A8.update(BD,BB);G(A8,arguments);return BC}if(!BD){A8=q(A6,BB)}if(BD||!A8){A8=new x(BD,BB,A6)}if(A8&&!c[A6]){c[A6]=A8}G(A8,arguments);return BC}function x(BF,BC,A6,BD,A9,BE,BG){function BA(BH){BB();BH.hasOption=A8;BH.toString=A5;BH.update=A7;BH.update(BF,BC,A6,BD,A9,BE,BG);return BH}function BB(){if(!(BF&&BF.constructor==x)){return }var BH=BF;BE=BH.extension;A6=BH.fullName;BC=BH.notation;BG=BH.options;BF=BH.path;BD=BH.shortName;A9=BH.version}function A8(BH){BG=BG||this.options;if(!(BG&&BH&&(BG.indexOf(BH)>=0))){return false}var BI=(new RegExp(BH,"g")).exec(BG);return BI&&(typeof BI[1]!="undefined")&&BI[1]==BH}function A5(){return"NamespaceInfo\r\n[ fullName: "+this.fullName+"\r\n, shortName: "+this.shortName+"\r\n, version: "+this.version+"\r\n, notation: "+this.notation+"\r\n, options: "+this.options+"\r\n, path: "+this.path+"\r\n, uri: "+this.uri+"\r\n]"}function A7(BL,BK,BM,BH,BI,BN,BJ){this.extension=BN||this.extension||L;this.fullName=BM||this.fullName||"";this.shortName=BH||this.shortName||"";this.notation=Az(BK)?BK:(this.notation||((AU&&Az(AU.notation))?AU.notation:"."));this.options=Az(BJ)?BJ:(this.options||h());this.path=Az(BL)?BL:(this.path||((AU&&Az(AU.path))?AU.path:""));this.uri=this.path+this.fullName.replace(/\x2e/g,this.notation);this.version=""+(BI||this.version||"");if(!this.uri){return }this.uri+=(this.version?("."+this.version):"")+this.extension}if(this.constructor!=x){if(!this.constructor||this.constructor.toString()!=x.toString()){return new x(BF,BC,A6,BD,A9,BE,BG)}}return BA(this)}function AE(A8){var BA=[l.get(""),l.get(A8),l.get(D)];if(!BA[0]&&!BA[1]&&!BA[2]){return }var A5=(BA[0]&&(BA[0].getSize()>0))||(BA[1]&&(BA[1].getSize()>0));if(Aa&&A5){G(("NOTIFY :: Import Listeners for "+A8+"..."),arguments)}for(var A7,A6=BA.length;--A6>=0;){if(!BA[A6]){continue}A7=BA[A6].getAll();for(var A9 in A7){if("undefined"==typeof Object.prototype[A9]){A7[A9](A8)}}}if(Aa&&A5){G(("NOTIFY :: Import Listeners for "+A8+"...DONE!"),arguments)}}function AJ(A5){AZ(At);Y(window.Import=S);Y(window.ImportAs=p);Y(window.Include=Av);Y(window.Load=W);Y(window.Namespace=AZ);Y(A5.AddImportListener=AY);Y(A5.EnableLegacy=J);Y(A5.GetVersion=function(){return AU.version});Y(A5.RemoveImportListener=Al);Y(A5.SetOption=AR);Y(A5.ShowLog=AW);Y(A5.Unload=Aw);Aq(A5,"Cloak");Aq(A5,"Debug");Aq(A5,"Override");Aq(A5,"Refresh");J(e||false)}function Aq(A6,A5){if(!A5||!Az(A5)){return }Y(A6["Enable"+A5]=function(A7){AR(A5,A7)})}function Al(A5,A9){j();if(!A9||!Ao(A9)){if(Ao(A5)){A9=A5;A5=null}else{return false}}else{if(A5&&!Az(A5)){return false}}var BB=[l.get(""),l.get(A5),l.get(D)];if(!BB[0]&&!BB[1]&&!BB[2]){return false}var A8=false;for(var A7,A6=BB.length;--A6>=0;){if(!BB[A6]){continue}A7=BB[A6].getAll();for(var BA in A7){if("undefined"==typeof Object.prototype[BA]){if(A7[BA]==A9){BB[A6].remove(BA);A8=true;break}}}}return A8}function r(A5){if(!(B&&(A5=document.createElement("meta")))){return }A5.httpEquiv=Am+w;Am=At.split(".").reverse().join(".");A5.content=Am+" :: Smart scripts that play nice ";AC(window.document).appendChild(A5)}function J(A5){if(typeof A5=="undefined"){A5=true}e=A5;AP=AP||AS(w);if(A5){AP.DIR_NAMESPACE=AP.USE_PATH="/";AP.DOT_NAMESPACE=AP.USE_NAME=".";Y(AP.CompleteImports=O);Y(AP.EnableDebugging=AP.EnableDebug);Y(AP.GetPathFor=AA);Y(window.JSBasePath=window.JSPath=AP.SetBasePath=T);Y(window.JSImport=S);Y(window.JSLoad=W);Y(window.JSPackaging=AP);Y(window.JSPackage=window.Package=AZ);Y(window.JSPacked=function(A6){AU.notation=A6});Y(window.NamespaceException=window.PackageException=A0)}if(A5||typeof window["JSPackaging"]=="undefined"){return }delete AP.DIR_NAMESPACE;delete AP.DOT_NAMESPACE;delete AP.CompleteImports;delete AP.EnableDebugging;delete AP.GetPathFor;delete AP.SetBasePath;delete AP.USE_NAME;delete AP.USE_PATH;delete window.JSBasePath;delete window.JSImport;delete window.JSLoad;delete window.JSPackaging;delete window.JSPackage;delete window.JSPacked;delete window.JSPath;delete window.Package;delete window.NamespaceException;delete window.PackageException}function AR(A5,A6){j();if(!A5||!Az(A5)){return }A6=typeof A6=="undefined"?true:A6;A5=A5.toLowerCase();switch(A5){case"cloak":A2=A6;break;case"debug":Aa=A6;break;case"legacy":J(A6);break;case"override":i=A6;break;case"refresh":Q=A6;break;default:break}}function AG(A5){if((/ajile.refresh/g).test(A5)){return A5}return A5+((/\?/g).test(A5)?"&":"?")+"ajile.refresh="+Math.random()}function AW(){j();if(!Aa){s="\r\nTo enable debug logging, use <b>"+w+".EnableDebug()</b> from within any of your scripts or use "+w+"'s debug load-time option as follows:<br><br><pre><code>&lt;script src=\""+AU.uri+"?<b>debug</b>\" type=\"text/javascript\"&gt;&lt;/script&gt;</code></pre>"}var A7="<html><head><title>"+w+"'s Debug Log "+(!Aa?":: DISABLED":"")+"</title>\r\n<style type=\"text/css\">*{background-color:#eee;color:#000;font-family:\"Tahoma\";font-size:12px;}</style>\r\n</head>\r\n<body>"+s.replace(/\r\n/g,"<br>")+"</body></html>";var A8=screen.width/1.5;var A5=screen.height/1.5;var A6=window.open("","__AJILELOG__","width="+A8+",height="+A5+",addressbar=0,directories=0,location=0,menubar=0,scrollbars=1,statusbar=0,toolbar=0,resizable=1");if(!A6){return }A6.document.writeln(A7);A6.document.close()}function AO(){var A7={},BF=0;function A9(BG){BG.add=BD;BG.clear=BB;BG.get=A6;BG.getAll=BA;BG.getAllArray=A5;BG.getSize=BE;BG.has=BC;BG.remove=A8;return BG}function BD(BG,BH){if(A6(BG)){return false}A7[BG]=BH;BF++;return true}function BB(){for(var BG in A7){if("undefined"==typeof Object.prototype[BG]){delete A7[BG]}}BF=0}function A6(BG){if("undefined"==typeof Object.prototype[BG]){if("undefined"==typeof A7[BG]){return null}else{return A7[BG]}}else{return null}}function BA(){return A7}function A5(){var BH=[];for(var BG in A7){if("undefined"==typeof Object.prototype[BG]){BH[BH.length]=[BG,A7[BG]]}}return BH}function BE(){return BF}function BC(BG){return typeof Object.prototype[BG]=="undefined"&&typeof A7[BG]!="undefined"}function A8(BG){if(!BC(BG)){return false}delete A7[BG];BF--;return true}if(this.constructor!=AO){if(!this.constructor||this.constructor.toString()!=AO.toString()){return new AO()}}return A9(this)}function o(A7){var A8=AQ.get(A7);if(!A8){return }A8=A8.getAll();var A6;for(var A5 in A8){if("undefined"==typeof Object.prototype[A5]){if(AV.has(A5)&&(A6=AS(A5))){if(y(AV.get(A5),A5,A6)){o(A5)}}}}}var F=At,u=new AO(),l=new AO(),A1=(/MSIE/i).test(window.navigator.userAgent),N=(/Opera/i).test(window.navigator.userAgent),AL=(/WebKit/i).test(window.navigator.userAgent),C=AO(),c={clear:function(){for(var A5 in this){if("undefined"==typeof Object.prototype[A5]){delete this[A5]}}}},AV=new AO(),Ai=new AO(),AQ=new AO();Ab(this)}